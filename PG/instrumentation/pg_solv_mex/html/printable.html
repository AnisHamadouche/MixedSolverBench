<!DOCTYPE html>
<html lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head>
<h1>Instrumentation Results for pg_solv_mex</h1>
<h2>Summary</h2>
<p>To re-create this report:</p>
<pre>  showInstrumentationResults pg_solv_mex -defaultDT numerictype(1,16) -proposeFL</pre>

<p>MEX-function name:</p>
<pre>pg_solv_mex</pre>
<p>Timestamp:</p>
<pre>Mon Jan 31 03:19:16 2022</pre>
<p>To open this report from the MATLAB command line:</p>
<pre> web('-browser','C:\Users\ah225\Documents\MATLAB\PG\instrumentation\pg_solv_mex\html\printable.html')</pre>


<h2>Function pg_solv </h2>

<pre>
function y = pg_solv(x0,A,b,AtA,Atb,lambda, ...
                                  gamma, beta, MAX_ITER, ABSTOL)
        x = zeros(size(x0));
        z = zeros(size(x0));
        grad_x = zeros(size(x0));
        x_i=zeros(size(x0,1),MAX_ITER);
        p_i=zeros(1,MAX_ITER);
        k=0
        time=0
        tic;
        x = x0;
        f = @(u) 0.5*sum_square(double(A*u-b));
        y = objfunc(A, b, gamma, x0, x0);
        for k = 1:MAX_ITER
            grad_x = AtA*x - Atb;
            while 1
                z = prox_l1(x - lambda*grad_x, lambda*gamma);
                
                % back-tracking
                if f(z) <= f(x) + dot(grad_x',(z - x)) ...
                           + (1/(2*lambda))*sum_square(z - x)
                    break;
                end
                lambda = beta*lambda;
            end
            x = z;
            x_i(:,k) = x;

            p_i(:,k) = objfunc(A, b, gamma, x, x);
            time = toc;
            if k > 1 && abs(p_i(k) ...
                            - p_i(k-1)) < ABSTOL
                %h.k = k
                y = p_i(k)
                break;
            end
        end
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for pg_solv</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>A</code></td><td><code>Input</code></td><td><code>500&nbsp;x&nbsp;100</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-3.9881246909547805</code></td><td><code>3.8670298602581163</code></td></tr>
<tr><td><code>ABSTOL</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>66</code></td><td><code>No</code></td><td><code>2.220446049250313e-16</code></td><td><code>2.220446049250313e-16</code></td></tr>
<tr><td><code>AtA</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;100</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>5</code></td><td><code>No</code></td><td><code>-79.43574727110015</code></td><td><code>581.6901956507288</code></td></tr>
<tr><td><code>Atb</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>4</code></td><td><code>No</code></td><td><code>-1164.7175744080705</code></td><td><code>1970.4599140141381</code></td></tr>
<tr><td><code>MAX_ITER</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>0</code></td><td><code><b>Yes</b></code></td><td><code>200</code></td><td><code>200</code></td></tr>
<tr><td><code>b</code></td><td><code>Input</code></td><td><code>500&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>10</code></td><td><code>No</code></td><td><code>-30.67269987930059</code></td><td><code>30.34061021707791</code></td></tr>
<tr><td><code>beta</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>15</code></td><td><code>No</code></td><td><code>0.5</code></td><td><code>0.5</code></td></tr>
<tr><td><code>gamma</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>10</code></td><td><code>No</code></td><td><code>19.704599140141383</code></td><td><code>19.704599140141383</code></td></tr>
<tr><td><code>grad_x</code></td><td><code>Local</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>10</code></td><td><code>No</code></td><td><code>-21.995402718557614</code></td><td><code>21.93797049766812</code></td></tr>
<tr><td><code>k</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>0</code></td><td><code><b>Yes</b></code></td><td><code>0</code></td><td><code>80</code></td></tr>
<tr><td><code>lambda</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>25</code></td><td><code>No</code></td><td><code>0.0009427450334773814</code></td><td><code>0.0009427450334773814</code></td></tr>
<tr><td><code>p_i</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;<b>:</b>?</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>4</code></td><td><code>No</code></td><td><code>0</code></td><td><code>1589.0905031031884</code></td></tr>
<tr><td><code>time</code></td><td><code>Local</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>17</code></td><td><code>No</code></td><td><code>0</code></td><td><code>0.1568874</code></td></tr>
<tr><td><code>x</code></td><td><code>Local</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8279596679041714</code></td><td><code>3.7125229391191725</code></td></tr>
<tr><td><code>x0</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8279596679041714</code></td><td><code>3.7125229391191725</code></td></tr>
<tr><td><code>x_i</code></td><td><code>Local</code></td><td><code>100&nbsp;x&nbsp;<b>:</b>?</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8090479056640802</code></td><td><code>3.694770424631902</code></td></tr>
<tr><td><code>y</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>4</code></td><td><code>No</code></td><td><code>1565.7330210949333</code></td><td><code>1618.48890202969</code></td></tr>
<tr><td><code>z</code></td><td><code>Local</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8090479056640802</code></td><td><code>3.694770424631902</code></td></tr>
</table>

<h2>Function sum_square&gt;1 </h2>

<pre>
function y = sum_square( x, dim )

%SUM_SQUARE   Sum of squares.
%   For vectors, SUM_SQUARE(X) is the sum of the squares of the elements of
%   the vector; i.e., SUM(X.^2).
%
%   For matrices, SUM_SQUARE(X) is a row vector containing the application
%   of SUM_SQUARE to each column. For N-D arrays, the SUM_SQUARE operation
%   is applied to the first non-singleton dimension of X.
%
%   SUM_SQUARE(X,DIM) takes the sum along the dimension DIM of X.
%
%   Disciplined convex programming information:
%       If X is real, then SUM_SQUARE(X,...) is convex and nonmonotonic in
%       X. If X is complex, then SUM_SQUARE(X,...) is neither convex nor
%       concave. Thus, when used in CVX expressions, X must be affine. DIM
%       must be constant.

narginchk(1,2);
y = x .* x;
if nargin == 2,
    y = sum( y, dim );
else
    y = sum( y );
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for sum_square&gt;1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>x</code></td><td><code>Input</code></td><td><code>500&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>14</code></td><td><code>No</code></td><td><code>-1.470119562885973</code></td><td><code>1.3894461685305046</code></td></tr>
<tr><td><code>y&gt;1</code></td><td><code>Local</code></td><td><code>500&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>6.919981527977928e-10</code></td><td><code>2.161251529180044</code></td></tr>
<tr><td><code>y&gt;2</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>8</code></td><td><code>No</code></td><td><code>4.841003861633529</code></td><td><code>103.2024567252525</code></td></tr>
</table>

<h2>Function l1_norm </h2>

<pre>
function y = l1_norm(x)
    y = sum(abs(x));
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for l1_norm</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>x</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8279596679041714</code></td><td><code>3.7125229391191725</code></td></tr>
<tr><td><code>y</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>8</code></td><td><code>No</code></td><td><code>76.84154252332803</code></td><td><code>82.01478185905779</code></td></tr>
</table>

<h2>Function objfunc </h2>

<pre>
function p = objfunc(A, b, gamma, x, z)
    p = 0.5*sum_square(A*x - b) + gamma*l1_norm(z);
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for objfunc</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>A</code></td><td><code>Input</code></td><td><code>500&nbsp;x&nbsp;100</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-3.9881246909547805</code></td><td><code>3.8670298602581163</code></td></tr>
<tr><td><code>b</code></td><td><code>Input</code></td><td><code>500&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>10</code></td><td><code>No</code></td><td><code>-30.67269987930059</code></td><td><code>30.34061021707791</code></td></tr>
<tr><td><code>gamma</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>10</code></td><td><code>No</code></td><td><code>19.704599140141383</code></td><td><code>19.704599140141383</code></td></tr>
<tr><td><code>p</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>4</code></td><td><code>No</code></td><td><code>1565.7330210949333</code></td><td><code>1618.48890202969</code></td></tr>
<tr><td><code>x</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8279596679041714</code></td><td><code>3.7125229391191725</code></td></tr>
<tr><td><code>z</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8279596679041714</code></td><td><code>3.7125229391191725</code></td></tr>
</table>

<h2>Function prox_l1 </h2>

<pre>
function x = prox_l1(v, lambda)
    x = max(0, v - lambda) - max(0, -v - lambda);
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for prox_l1</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>lambda</code></td><td><code>Input</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>20</code></td><td><code>No</code></td><td><code>0.01857641297603097</code></td><td><code>0.01857641297603097</code></td></tr>
<tr><td><code>v</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8276243186401113</code></td><td><code>3.7133468376079333</code></td></tr>
<tr><td><code>x</code></td><td><code>Output</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>13</code></td><td><code>No</code></td><td><code>-1.8090479056640802</code></td><td><code>3.694770424631902</code></td></tr>
</table>

<h2>Function @(u) 0.5*sum_square(double(A*u-b)) </h2>

<pre>
function y = pg_solv(x0,A,b,AtA,Atb,lambda, ...
                                  gamma, beta, MAX_ITER, ABSTOL)
        x = zeros(size(x0));
        z = zeros(size(x0));
        grad_x = zeros(size(x0));
        x_i=zeros(size(x0,1),MAX_ITER);
        p_i=zeros(1,MAX_ITER);
        k=0
        time=0
        tic;
        x = x0;
        f = @(u) 0.5*sum_square(double(A*u-b));
        y = objfunc(A, b, gamma, x0, x0);
        for k = 1:MAX_ITER
            grad_x = AtA*x - Atb;
            while 1
                z = prox_l1(x - lambda*grad_x, lambda*gamma);
                
                % back-tracking
                if f(z) <= f(x) + dot(grad_x',(z - x)) ...
                           + (1/(2*lambda))*sum_square(z - x)
                    break;
                end
                lambda = beta*lambda;
            end
            x = z;
            x_i(:,k) = x;

            p_i(:,k) = objfunc(A, b, gamma, x, x);
            time = toc;
            if k > 1 && abs(p_i(k) ...
                            - p_i(k-1)) < ABSTOL
                %h.k = k
                y = p_i(k)
                break;
            end
        end
end
</pre>
<p>No named variables were logged.</p>

<h2>Function sum_square&gt;2 </h2>

<pre>
function y = sum_square( x, dim )

%SUM_SQUARE   Sum of squares.
%   For vectors, SUM_SQUARE(X) is the sum of the squares of the elements of
%   the vector; i.e., SUM(X.^2).
%
%   For matrices, SUM_SQUARE(X) is a row vector containing the application
%   of SUM_SQUARE to each column. For N-D arrays, the SUM_SQUARE operation
%   is applied to the first non-singleton dimension of X.
%
%   SUM_SQUARE(X,DIM) takes the sum along the dimension DIM of X.
%
%   Disciplined convex programming information:
%       If X is real, then SUM_SQUARE(X,...) is convex and nonmonotonic in
%       X. If X is complex, then SUM_SQUARE(X,...) is neither convex nor
%       concave. Thus, when used in CVX expressions, X must be affine. DIM
%       must be constant.

narginchk(1,2);
y = x .* x;
if nargin == 2,
    y = sum( y, dim );
else
    y = sum( y );
end
</pre>
<table style="border-collapse: collapse; border: solid;" border="1">
<caption><b>Logged Variables for sum_square&gt;2</b></caption>
<tr><th>Variable</th><th>Type</th><th>Size</th><th>Class</th><th>Complex</th><th>Proposed<br>Signedness</th><th>Proposed<br>WL</th><th>Proposed<br>FL</th><th>Always<br>Whole Number</th><th>SimMin</th><th>SimMax</th></tr>
<tr><td><code>x</code></td><td><code>Input</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>20</code></td><td><code>No</code></td><td><code>-0.022207526899385183</code></td><td><code>0.02241383753257664</code></td></tr>
<tr><td><code>y&gt;1</code></td><td><code>Local</code></td><td><code>100&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>25</code></td><td><code>No</code></td><td><code>0</code></td><td><code>0.0005023801129367413</code></td></tr>
<tr><td><code>y&gt;2</code></td><td><code>Output</code></td><td><code>1&nbsp;x&nbsp;1</code></td><td><code>double</code></td><td><code>No</code></td><td><code>Signed</code></td><td><code>16</code></td><td><code>19</code></td><td><code>No</code></td><td><code>8.508502213169054e-16</code></td><td><code>0.0345643181681569</code></td></tr>
</table>
</html>
